{"ast":null,"code":"import _classCallCheck from \"/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/web/src/components/Dashboard.js\";\nimport React, { Component } from \"react\";\nimport injectSheet from \"react-jss\";\nimport NavBar from \"./NavBar\";\nimport Colors from \"../res/values/Colors\";\nimport Fonts from \"../res/values/Fonts\";\nimport MakeAREA from \"./MakeAREA\";\nimport { getCookie } from \"../helpers/cookies\";\nimport Cookies from \"../res/values/Cookies\";\nimport _ from \"lodash\";\nimport { Button, ListItem, List, ListItemSecondaryAction, Switch, ListItemText, IconButton, Paper } from \"@material-ui/core\";\nimport API from \"../services/Users/API\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nvar styles = {\n  \"@global body\": {\n    overflowX: \"hidden\"\n  },\n  PageContainer: {\n    width: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\"\n  },\n  TitleContainer: {\n    cursor: \"default\",\n    zIndex: 1,\n    alignSelf: \"center\",\n    margin: \"100px 0\",\n    padding: \"40px 29px\",\n    boxShadow: Colors.mako + \" 0 3px 15px\",\n    backgroundColor: Colors.white,\n    border: \"none\"\n  },\n  Title: {\n    font: \"normal 48px/normal \" + Fonts.roboto\n  },\n  GridContainer: {\n    alignSelf: \"center\",\n    display: \"grid\",\n    gridTemplateColumns: \"repeat(3, auto)\",\n    marginBottom: 100\n  },\n  ServiceButton: {\n    margin: 4,\n    width: 250,\n    height: 250,\n    borderRadius: 60,\n    display: \"flex\",\n    justifyContent: \"center\"\n  },\n  ServiceImage: {\n    alignSelf: \"center\",\n    width: 130,\n    margin: \"auto\"\n  },\n  button: {\n    flex: 1,\n    width: \"50%\"\n  }\n};\nvar s = {\n  container: {\n    display: \"flex\",\n    height: \"100vh\",\n    flexDirection: \"column\"\n  },\n  header: {\n    flex: 1\n  },\n  body: {\n    flex: 6,\n    display: \"flex\",\n    flexDirection: \"column\",\n    paddingLeft: 140,\n    paddingRight: 140\n  },\n  bodyTop: {\n    flex: 1,\n    display: \"flex\",\n    flexDirection: \"row\"\n  },\n  titleCont: {\n    flex: 1,\n    display: \"flex\",\n    alignItems: \"center\"\n  },\n  title: {\n    fontSize: 25\n  },\n  buttonCont: {\n    flex: 1,\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"flex-end\"\n  },\n  button: {\n    width: \"80%\"\n  },\n  bodyBottom: {\n    flex: 7,\n    position: \"relative\",\n    marginBottom: 30\n  },\n  createArea: {\n    fontSize: 25,\n    color: \"lightgray\",\n    fontWeight: 300,\n    position: \"absolute\",\n    left: \"50%\",\n    top: \"40%\",\n    transform: \"translate(-50%, -50%)\"\n  },\n  areaListCont: {\n    height: \"100%\",\n    width: \"100%\",\n    overflow: \"auto\",\n    position: \"absolute\",\n    boxShadow: \"none\"\n  },\n  areaList: {}\n};\n\nvar Dashboard =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Dashboard, _Component);\n\n  function Dashboard() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Dashboard);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Dashboard)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      makingArea: false,\n      areas: null\n    };\n    return _this;\n  }\n\n  _createClass(Dashboard, [{\n    key: \"_loadAreas\",\n    value: function _loadAreas() {\n      var _this2 = this;\n\n      API.get(\"/users/areas\", {\n        headers: {\n          Authorization: getCookie(Cookies.userToken)\n        }\n      }).then(function (res) {\n        _this2.setState({\n          areas: res.data.areas\n        });\n      });\n    }\n  }, {\n    key: \"_toggleArea\",\n    value: function _toggleArea(area, value) {\n      var _this3 = this;\n\n      area.activated = value;\n      API.put(\"/users/areas\", area, {\n        headers: {\n          Authorization: getCookie(Cookies.userToken)\n        }\n      }).then(function (res) {\n        _this3._loadAreas();\n      });\n    }\n  }, {\n    key: \"_deleteArea\",\n    value: function _deleteArea(area) {\n      var _this4 = this;\n\n      API.delete(\"/users/areas\", {\n        data: {\n          id: area.id\n        },\n        headers: {\n          Authorization: getCookie(Cookies.userToken)\n        }\n      }).then(function (res) {\n        _this4._loadAreas();\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this._loadAreas();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var classes = this.props.classes;\n      return React.createElement(\"div\", {\n        style: s.container,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: s.header,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, React.createElement(NavBar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        style: s.body,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, !this.state.makingArea && this._renderBodyTop(), this._renderBodyBottom()));\n    }\n  }, {\n    key: \"_renderBodyTop\",\n    value: function _renderBodyTop() {\n      var _this5 = this;\n\n      return React.createElement(\"div\", {\n        style: s.bodyTop,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: s.titleCont,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        style: s.title,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }, \"Your AREAS\")), React.createElement(\"div\", {\n        style: s.buttonCont,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"outlined\",\n        color: \"primary\",\n        style: s.button,\n        onClick: function onClick() {\n          return _this5.setState({\n            makingArea: true\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }, \"Make an AREA\")));\n    }\n  }, {\n    key: \"_renderBodyBottom\",\n    value: function _renderBodyBottom() {\n      var _this6 = this;\n\n      return React.createElement(\"div\", {\n        style: s.bodyBottom,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }, !this.state.makingArea && this.state.areas && this.state.areas.length > 0 && this._renderAreaList(), !this.state.makingArea && (!this.state.areas || this.state.areas.length < 1) && React.createElement(\"div\", {\n        style: s.createArea,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }, \"No AREAS created yet\"), this.state.makingArea && React.createElement(MakeAREA, {\n        onDone: function onDone() {\n          _this6._loadAreas();\n\n          _this6.setState({\n            makingArea: false\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }));\n    }\n  }, {\n    key: \"_renderAreaList\",\n    value: function _renderAreaList() {\n      var _this7 = this;\n\n      return React.createElement(Paper, {\n        style: s.areaListCont,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220\n        },\n        __self: this\n      }, React.createElement(List, {\n        component: \"nav\",\n        style: s.areaList,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      }, this.state.areas.map(function (area, index) {\n        return React.createElement(ListItem, {\n          button: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 223\n          },\n          __self: this\n        }, React.createElement(ListItemText, {\n          primary: area.name,\n          secondary: area.description,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 224\n          },\n          __self: this\n        }), React.createElement(ListItemSecondaryAction, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 225\n          },\n          __self: this\n        }, React.createElement(Switch, {\n          onChange: function onChange(s, value) {\n            return _this7._toggleArea(area, value);\n          },\n          checked: area.activated,\n          color: \"primary\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 226\n          },\n          __self: this\n        }), React.createElement(IconButton, {\n          \"aria-label\": \"Delete\",\n          onClick: function onClick() {\n            return _this7._deleteArea(area);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 231\n          },\n          __self: this\n        }, React.createElement(DeleteIcon, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 235\n          },\n          __self: this\n        }))));\n      })));\n    }\n  }]);\n\n  return Dashboard;\n}(Component);\n\nvar StyledDashboard = injectSheet(styles)(Dashboard);\nexport default StyledDashboard;","map":{"version":3,"sources":["/web/src/components/Dashboard.js"],"names":["React","Component","injectSheet","NavBar","Colors","Fonts","MakeAREA","getCookie","Cookies","_","Button","ListItem","List","ListItemSecondaryAction","Switch","ListItemText","IconButton","Paper","API","DeleteIcon","styles","overflowX","PageContainer","width","display","flexDirection","TitleContainer","cursor","zIndex","alignSelf","margin","padding","boxShadow","mako","backgroundColor","white","border","Title","font","roboto","GridContainer","gridTemplateColumns","marginBottom","ServiceButton","height","borderRadius","justifyContent","ServiceImage","button","flex","s","container","header","body","paddingLeft","paddingRight","bodyTop","titleCont","alignItems","title","fontSize","buttonCont","bodyBottom","position","createArea","color","fontWeight","left","top","transform","areaListCont","overflow","areaList","Dashboard","state","makingArea","areas","get","headers","Authorization","userToken","then","res","setState","data","area","value","activated","put","_loadAreas","delete","id","classes","props","_renderBodyTop","_renderBodyBottom","length","_renderAreaList","map","index","name","description","_toggleArea","_deleteArea","StyledDashboard"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport injectSheet from \"react-jss\";\n\nimport NavBar from \"./NavBar\";\nimport Colors from \"../res/values/Colors\";\nimport Fonts from \"../res/values/Fonts\";\nimport MakeAREA from \"./MakeAREA\";\nimport { getCookie } from \"../helpers/cookies\";\nimport Cookies from \"../res/values/Cookies\";\nimport _ from \"lodash\";\nimport {\n  Button,\n  ListItem,\n  List,\n  ListItemSecondaryAction,\n  Switch,\n  ListItemText,\n  IconButton,\n  Paper\n} from \"@material-ui/core\";\nimport API from \"../services/Users/API\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\n\nconst styles = {\n  \"@global body\": { overflowX: \"hidden\" },\n  PageContainer: {\n    width: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\"\n  },\n  TitleContainer: {\n    cursor: \"default\",\n    zIndex: 1,\n    alignSelf: \"center\",\n    margin: \"100px 0\",\n    padding: \"40px 29px\",\n    boxShadow: Colors.mako + \" 0 3px 15px\",\n    backgroundColor: Colors.white,\n    border: \"none\"\n  },\n  Title: { font: \"normal 48px/normal \" + Fonts.roboto },\n  GridContainer: {\n    alignSelf: \"center\",\n    display: \"grid\",\n    gridTemplateColumns: \"repeat(3, auto)\",\n    marginBottom: 100\n  },\n  ServiceButton: {\n    margin: 4,\n    width: 250,\n    height: 250,\n    borderRadius: 60,\n    display: \"flex\",\n    justifyContent: \"center\"\n  },\n  ServiceImage: {\n    alignSelf: \"center\",\n    width: 130,\n    margin: \"auto\"\n  },\n  button: {\n    flex: 1,\n    width: \"50%\"\n  }\n};\n\nconst s = {\n  container: {\n    display: \"flex\",\n    height: \"100vh\",\n    flexDirection: \"column\"\n  },\n  header: {\n    flex: 1\n  },\n  body: {\n    flex: 6,\n    display: \"flex\",\n    flexDirection: \"column\",\n    paddingLeft: 140,\n    paddingRight: 140\n  },\n  bodyTop: {\n    flex: 1,\n    display: \"flex\",\n    flexDirection: \"row\",\n  },\n  titleCont: {\n    flex: 1,\n    display: \"flex\",\n    alignItems: \"center\"\n  },\n  title: {\n    fontSize: 25\n  },\n  buttonCont: {\n    flex: 1,\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"flex-end\"\n  },\n  button: {\n    width: \"80%\"\n  },\n  bodyBottom: {\n    flex: 7,\n    position: \"relative\",\n    marginBottom: 30\n\n  },\n  createArea: {\n    fontSize: 25,\n    color: \"lightgray\",\n    fontWeight: 300,\n    position: \"absolute\",\n    left: \"50%\",\n    top: \"40%\",\n    transform: \"translate(-50%, -50%)\"\n  },\n  areaListCont: {\n    height: \"100%\",\n    width: \"100%\",\n    overflow: \"auto\",\n    position: \"absolute\",\n    boxShadow: \"none\",\n  },\n  areaList: {}\n};\n\nclass Dashboard extends Component {\n  state = { makingArea: false, areas: null };\n\n  _loadAreas() {\n    API.get(\"/users/areas\", {\n      headers: { Authorization: getCookie(Cookies.userToken) }\n    }).then(res => {\n      this.setState({ areas: res.data.areas });\n    });\n  }\n\n  _toggleArea(area, value) {\n    area.activated = value;\n    API.put(\"/users/areas\", area, {\n      headers: { Authorization: getCookie(Cookies.userToken) }\n    }).then(res => {\n      this._loadAreas();\n    });\n  }\n\n  _deleteArea(area) {\n    API.delete(\"/users/areas\", {\n      data: { id: area.id },\n      headers: { Authorization: getCookie(Cookies.userToken) }\n    }).then(res => {\n      this._loadAreas();\n    });\n  }\n\n  componentDidMount() {\n    this._loadAreas();\n  }\n\n  render() {\n    const { classes } = this.props;\n    return (\n      <div style={s.container}>\n        <div style={s.header}>\n          <NavBar />\n        </div>\n        <div style={s.body}>\n          {!this.state.makingArea && this._renderBodyTop()}\n          {this._renderBodyBottom()}\n        </div>\n      </div>\n    );\n  }\n\n  _renderBodyTop() {\n    return (\n      <div style={s.bodyTop}>\n        <div style={s.titleCont}>\n          <span style={s.title}>Your AREAS</span>\n        </div>\n        <div style={s.buttonCont}>\n          <Button\n            variant=\"outlined\"\n            color=\"primary\"\n            style={s.button}\n            onClick={() => this.setState({ makingArea: true })}\n          >\n            Make an AREA\n          </Button>\n        </div>\n      </div>\n    );\n  }\n\n  _renderBodyBottom() {\n    return (\n      <div style={s.bodyBottom}>\n        {!this.state.makingArea && this.state.areas && this.state.areas.length > 0 && this._renderAreaList()}\n        {!this.state.makingArea &&\n          (!this.state.areas || this.state.areas.length < 1) && (\n            <div style={s.createArea}>No AREAS created yet</div>\n          )}\n        {this.state.makingArea && (\n          <MakeAREA\n            onDone={() => {\n              this._loadAreas();\n              this.setState({ makingArea: false });\n            }}\n          />\n        )}\n      </div>\n    );\n  }\n\n  _renderAreaList() {\n    return (\n      <Paper style={s.areaListCont}>\n        <List component=\"nav\" style={s.areaList}>\n          {this.state.areas.map((area, index) => (\n            <ListItem button>\n              <ListItemText primary={area.name} secondary={area.description} />\n              <ListItemSecondaryAction>\n                <Switch\n                  onChange={(s, value) => this._toggleArea(area, value)}\n                  checked={area.activated}\n                  color=\"primary\"\n                />\n                <IconButton\n                  aria-label=\"Delete\"\n                  onClick={() => this._deleteArea(area)}\n                >\n                  <DeleteIcon />\n                </IconButton>\n              </ListItemSecondaryAction>\n            </ListItem>\n          ))}\n        </List>\n      </Paper>\n    );\n  }\n}\n\nconst StyledDashboard = injectSheet(styles)(Dashboard);\n\nexport default StyledDashboard;\n"]},"metadata":{},"sourceType":"module"}